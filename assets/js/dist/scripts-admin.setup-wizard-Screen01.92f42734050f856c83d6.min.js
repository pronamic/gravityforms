"use strict";(self.webpackChunkgravityforms=self.webpackChunkgravityforms||[]).push([[910],{9708:function(e,a,t){t.r(a);var r=t(455),i=t(8140),n=t(9280),o=t.n(n),s=t(7122),c=t.n(s),m=t(7616),l=t(1866),u=t(8335),g=t(5798),d=t(9877),_=t.n(d),p=t(484),f=t.n(p),w=t(395),z=t.n(w),b=t(5704),k=t.n(b),v=t(6648),h=t.n(v),E=t(7510),R=t.n(E),y=t(9328),x=t.n(y),C=t(2225),N=t.n(C),A=t(7290),T=m.React.useEffect,P=m.React.useState;a.default=function(e){var a,t,n=e.data,s=void 0===n?{}:n,d=e.endpoints,p=e.i18n,w=P(!1),b=(0,i.A)(w,2),v=b[0],E=b[1],y=P(!1),C=(0,i.A)(y,2),I=C[0],S=C[1],O=P(!1),B=(0,i.A)(O,2),D=B[0],K=B[1],W=P(!1),F=(0,i.A)(W,2),L=F[0],M=F[1],U=P(!1),q=(0,i.A)(U,2),j=q[0],G=q[1],H=P(""),J=(0,i.A)(H,2),Q=J[0],V=J[1],X=(0,u.useStateWithDep)((null==s||null===(a=s.defaults)||void 0===a?void 0:a.licenseKey)||""),Y=(0,i.A)(X,2),Z=Y[0],$=Y[1],ee=(0,A.default)((function(e){return e.email})),ae=(0,A.default)((function(e){return e.emailConsent})),te=(0,A.default)((function(e){return e.activeStep}));T((function(){D&&K(!1)}),[Z]);var re=(0,A.default)((function(e){return e.setActiveStepNext})),ie=(0,A.default)((function(e){return e.setAutoUpdate})),ne=(0,A.default)((function(e){return e.setEmail})),oe=(0,A.default)((function(e){return e.setEmailConsent})),se=(0,A.default)((function(e){return e.setLicenseKey})),ce=(0,A.default)((function(e){return e.setInnerDialogOpen})),me=p.activate_license,le=p.check_license,ue=p.close_button,ge=p.column_layouts,de=p.email_message_title,_e=p.email_message,pe=p.email_message_plhldr,fe=p.email_message_submit,we=p.email_message_footer,ze=p.enter_license,be=p.enter_license_plhdr,ke=p.invalid_key,ve=p.key_validated,he=p.license_instructions,Ee=p.most_accessible,Re=p.take_payments,ye=p.welcome_title,xe=p.welcome_copy,Ce=p.next,Ne="mock_endpoint"===(null==d||null===(t=d.validate_license)||void 0===t?void 0:t.action),Ae={checked:ae,id:"email-consent",onChange:function(e){oe(e)},spacing:3,labelAttributes:{label:we,size:"text-xxs",weight:"regular",customClasses:["gform-setup-wizard__email-footer"]}},Te={ref:(0,u.useFocusTrap)(1===te),className:(0,m.classnames)({"gform-setup-wizard__screen":!0,"gform-setup-wizard__screen--step-1":!0}),"aria-hidden":1!==te};return m.React.createElement("div",Te,m.React.createElement("div",{className:"gform-setup-wizard__outer-content"},m.React.createElement("div",{className:"gform-setup-wizard__content"},m.React.createElement(u.FadeIn,{delay:200,transitionDuration:800},m.React.createElement(_(),{customClasses:["gform-setup-wizard__heading-container"]},m.React.createElement(h(),{content:ye,customClasses:["gform-typography--md-size-display-lg"],size:"display-md",spacing:{"":6,md:5},tagName:"h2",weight:"semibold"})),m.React.createElement(_(),{customClasses:["gform-setup-wizard__body-container"]},m.React.createElement(N(),{content:xe,spacing:{"":3,md:5}}),m.React.createElement(x(),{listItems:[Ee,ge,Re],spacing:{"":6,md:8}}),m.React.createElement(h(),{content:ze,size:"text-xl",spacing:3,tagName:"h3",weight:"medium"}),m.React.createElement(N(),{content:he,spacing:{"":3,md:5}})),m.React.createElement(_(),{customClasses:["gform-setup-wizard__license-container"]},m.React.createElement(R(),{customAttributes:{disabled:v},onChange:$,placeholder:be,size:"size-xl",spacing:3,value:Z}),m.React.createElement(f(),{customClasses:{"gform-setup-wizard__validate-license-button":!0,"gform-setup-wizard__validate-license-button--valid":D},size:"size-height-xl",label:D?ve:me,icon:"check-circle",iconPosition:"leading",iconPrefix:"gform-common-icon",active:v,activeType:"loader",disabled:v||D,activeText:le,type:D?"apple-green":"primary-new",width:"full",onClick:(0,r.A)(o().mark((function e(){var a,t,r,i,n,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z){e.next=2;break}return e.abrupt("return");case 2:if(E(!0),g.cookieStorage.remove(s.options.invalidKeyCookieName),a={baseUrl:c(),method:"POST",body:{license:Z}},!Ne){e.next=16;break}return(0,g.consoleInfo)("Mock endpoint, data that would have been sent is:"),(0,g.consoleInfo)(a),e.next=10,new Promise((function(e){return setTimeout(e,1e3)}));case 10:return K(!0),E(!1),e.next=14,new Promise((function(e){return setTimeout((function(){re(),e()}),600)}));case 14:e.next=36;break;case 16:return r=Date.now(),e.next=19,(0,l.Ay)("validate_license",d,a);case 19:if(i=e.sent,!((n=Date.now()-r)<600)){e.next=24;break}return e.next=24,new Promise((function(e){return setTimeout(e,600-n)}));case 24:if(null==i||null===(t=i.data)||void 0===t||!t.success){e.next=32;break}return K(!0),E(!1),se(Z),e.next=30,new Promise((function(e){return setTimeout((function(){re(),e()}),600)}));case 30:e.next=36;break;case 32:V(null==i||null===(m=i.data)||void 0===m?void 0:m.data),S(!0),E(!1),g.cookieStorage.set(s.options.invalidKeyCookieName,"1",null,!0);case 36:case"end":return e.stop()}}),e)})))}))),m.React.createElement(_(),{display:"flex",customClasses:["gform-setup-wizard__nav-footer"]},m.React.createElement(f(),{size:"size-height-xl",customClasses:["gform-setup-wizard__nav-next"],type:"white",icon:"arrow-narrow-right",iconPrefix:"gform-common-icon",disabled:v,ariaLabel:Ce,onClick:function(){D||j?re():M(!0)}})),I&&m.React.createElement(k(),{alertButtonText:ue,alignment:"top",buttonWidth:"full",confirmButtonType:"white",content:Q,customWrapperClasses:["gform-setup-wizard__alert"],isOpen:!0,maskTheme:"dark",mode:"alert",onOpen:function(){ce(!0)},onClose:function(){ce(!1)},onCloseAfterAnimation:function(){S(!1)},showCloseButton:!1,theme:"cosmos",title:ke,titleIndicatorType:"error"}),L&&m.React.createElement(k(),{alignment:"top",animateModal:!0,customWrapperClasses:["gform-setup-wizard__email-dialog"],isOpen:!0,maskBlur:!1,maskTheme:"light",mode:"modal",onOpen:function(){ce(!0)},theme:"cosmos",titleIndicatorType:"error",onClose:function(){ce(!1)},onCloseAfterAnimation:function(){ne(""),M(!1)},closeButtonTitle:ue},m.React.createElement("div",{className:"gform-setup-wizard__email-logo"}),m.React.createElement(h(),{content:de,customClasses:["gform-setup-wizard__email-heading","gform-typography--md-size-display-sm"],size:"display-xs",spacing:1,tagName:"h3",weight:"semibold"}),m.React.createElement(N(),{content:_e,customClasses:["gform-setup-wizard__email-message","gform-typography--md-size-text-xl"],size:"text-md",spacing:6}),m.React.createElement(_(),{customClasses:["gform-setup-wizard__email-actions"]},m.React.createElement(R(),{size:"size-xl",onChange:ne,placeholder:pe,spacing:3}),m.React.createElement(z(),Ae),m.React.createElement(f(),{customClasses:["gform-setup-wizard__submit-email-button"],size:"size-height-xl",label:fe,type:"primary-new",width:"full",onClick:function(){ee&&(ce(!1),ie(),M(!1),G(!0),re())}})))),m.React.createElement("div",{className:"gform-setup-wizard__background"},m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--sendgrid"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--google-analytics"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--stripe"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--slack"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--hubspot"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--mailgun"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--help-scout"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--aweber"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--dropbox"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--zapier"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--mailchimp"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--paypal"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--get-response"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--active-campaign"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--logo gform-setup-wizard__background-image--square"}),m.React.createElement("div",{className:"gform-setup-wizard__background-image gform-setup-wizard__background-image--hero"}))))}}}]);